build_settings:
  build_image: dockerfile
  dockerfile_path: Dockerfile
  container_port: 8000

environment_variables:
  - from_database:
      name: db
      property: private_connection_url
    name: DATABASE_URL

services:
  web:
    command: uvicorn src.app.main:app --host 0.0.0.0 --port 8000 --workers 4
    scale: 1

databases:
  db:
    type: mysql_8
